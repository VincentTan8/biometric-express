<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Biometrics</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/datatables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css">
</head>

<body class="body-bg-color">
    <div class="container">
        <h1>Biometrics System</h1>
        <hr>
        <!-- <div class="flex userbase">
            <div>
                <label for="userFile">Enter Filename:</label>
                <input type="text" id="userFile" name="userFile" placeholder="sampleDB.json">
            </div>
            <div>
                <button onclick="replaceUserbase()">Overwrite Userbase To Biometric Device</button>
            </div>
        </div>
        <hr> -->
        <div class="flex" style="justify-content: space-between;">
            <div>
                <button onclick="getUsers()">Get Users</button>
                <button onclick="getTransactions()">Get Transactions</button>
            </div>
            <div>
                <label for="startDate">Enter Start Date:</label>
                <input type="date" id="startDate" name="startDate" placeholder="MM-DD-YYYY">
                <label for="endDate">Enter End Date:</label>
                <input type="date" id="endDate" name="endDate" placeholder="MM-DD-YYYY">
                <button onclick="exportLogs()">Export Logs</button>
            </div>
        </div>
        <div id="status" class="text">Status: Idle</div>
        <div class="flex" style="justify-content: flex-start;">
            <div>
                <button onclick="viewUsers()">View All Users</button>
                <button onclick="viewTransactions()">View All Transactions</button>
            </div>
        </div>
        <div id="result"></div>   

        <table id="userTable" class="display hidden-table">
            <thead>
            <tr>
                <th>Device User ID</th>
                <th>Employee ID</th>
                <th>Name</th>
                <th>Card Number</th>
            </tr>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        <table id="logsTable" class="display hidden-table">
            <thead>
            <tr>
                <th>Device User ID</th>
                <th>Username/UserSn</th>
                <th>Timestamp</th>
            </tr>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>

        <h2>Add/Remove Users</h2>
        <div class="flex">
            <div class="window">
                <div class="row">
                    <label for="id">Enter ID (required):</label>
                    <input type="text" id="id" name="id" placeholder="Employee ID here">
                </div>
                <div class="row">
                    <label for="name">Enter Name:</label>
                    <input type="text" id="name" name="name" placeholder="Employee Name here">
                </div>
                <div class="row">
                    <label for="card">Enter Card Number:</label>
                    <input type="text" id="card" name="card" placeholder="Employee Card here">
                </div>
                <div class="row">
                    <label for="password">Enter Password:</label>
                    <input type="password" id="password" name="password" placeholder="Password here">
                </div>
                <div class="row">
                    <label for="role">Enter Role:</label>
                    <select id="role" class="styled-select">
                        <option value="normal">Normal User</option>
                        <option value="admin">Super Admin</option>
                    </select>
                </div>
                <button onclick="addUser()">Add</button>
            </div>

            <div class="window">
                <div class="row">
                    <label for="deviceID">Enter Device ID:</label>
                    <input type="text" id="deviceID" name="deviceID" placeholder="Employee Device ID here">
                </div>
                <button onclick="deleteUser()">Remove</button>
            </div>    
        </div>
    </div>


    <!-- Include Socket.IO client-side script -->
    <script src="js/jquery-3.7.1.js"></script>
    <script src="js/datatables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.flash.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>
    <script src="/socket.io/socket.io.js"></script> 
    <script src="js/main.js"></script>
</body>

</html>